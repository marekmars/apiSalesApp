<a type="button" [routerLink]="['/sales/add']"
  class="cursor-pointer text-white w-fit flex gap-2  bg-green-700 hover:bg-green-800 focus:outline-none focus:ring-4 focus:ring-green-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-4 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">
  <span class="my-auto">Add </span>
  <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
    fill="currentColor" viewBox="0 0 24 24">
    <path fill-rule="evenodd"
      d="M2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0Zm11-4.2a1 1 0 1 0-2 0V11H7.8a1 1 0 1 0 0 2H11v3.2a1 1 0 1 0 2 0V13h3.2a1 1 0 1 0 0-2H13V7.8Z"
      clip-rule="evenodd" />
  </svg>

</a>
<div class="flex flex-column gap-4 sm:flex-row flex-wrap  items-center content-center justify-between pb-5"
  [ngClass]="{'hidden': tableItems.length === 0}">
  <shared-search-bar [placeholder] ="placeholder" (searchEmiter)="search($event)"> </shared-search-bar>
  <shared-sort-by [sortBy]="sortBy"> </shared-sort-by>
</div>
@if (!itemsEmpty) {
@if (loading) {
<shared-skeleton-table></shared-skeleton-table>
}@else {
<div data-simplebar data-simplebar-auto-hide="false" class="relative overflow-x-auto shadow-md sm:rounded-lg pb-2 z-10">
  <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 ">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <th scope="col" class="px-6 py-3 ">
          <div class="text-center flex justify-center content-center">
            <span> Id</span>
          </div>
        </th>
        <th scope="col" class="px-6 py-3 ">
          <div class="text-center flex justify-center content-center">
            <span> Client</span>
          </div>
        </th>
        <th scope="col" class="px-6 py-3 ">
          <div class="text-center flex justify-center content-center">
            <span> Date</span>

          </div>
        </th>
        <th scope="col" class="px-6 py-3 ">
          <div class="text-center flex justify-center content-center">
            <span> Total</span>

          </div>
        </th>
        <th scope="col" class="px-6 py-3 ">
          <div class="text-center flex justify-center content-center">
            <span> Actions</span>
          </div>
        </th>
      </tr>
    </thead>
    <tbody>
      @for (item of tableItems; track i; let i = $index) {
      <tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
        <td class="px-6 py-4 text-center">
          {{item.id}}
        </td>
        <td class="px-6 py-4 text-center">
          {{item.client?.lastName+" "+item.client?.name}}
        </td>
        <td class="px-6 py-4 text-center">
          {{item.date | date: 'dd/MM/yyyy'}}
        </td>
        <td class="px-6 py-4 text-center">
          {{item.total}}
        </td>

        <td class="px-6 py-4 text-right flex justify-center h-max">
          <div class="flex gap-6 sm:gap-8">
            <a [id]="item.id" (click)="onActionClick({ action: 'delete',  item: item })" class="cursor-pointer">
              <svg class="w-6 h-6 m-auto text-gray-800 dark:text-white" aria-hidden="true" #deleteButton
                xmlns="http://www.w3.org/2000/svg" fill="#A23426" viewBox="0 0 24 24">
                <path fill-rule="evenodd"
                  d="M8.6 2.6A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4c0-.5.2-1 .6-1.4ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z"
                  clip-rule="evenodd" />
              </svg>
            </a>


            <a [routerLink]="['/sales/detail/'+item.id]">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                fill="#ABB359" viewBox="0 0 24 24">
                <path fill-rule="evenodd"
                  d="M5 7.8C6.7 6.3 9.2 5 12 5s5.3 1.3 7 2.8a12.7 12.7 0 0 1 2.7 3.2c.2.2.3.6.3 1s-.1.8-.3 1a2 2 0 0 1-.6 1 12.7 12.7 0 0 1-9.1 5c-2.8 0-5.3-1.3-7-2.8A12.7 12.7 0 0 1 2.3 13c-.2-.2-.3-.6-.3-1s.1-.8.3-1c.1-.4.3-.7.6-1 .5-.7 1.2-1.5 2.1-2.2Zm7 7.2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"
                  clip-rule="evenodd" />
              </svg>
            </a>
          </div>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>


}
<shared-paginator [totalItems]="totalItems" [rowsPerPageOptions]="itemsPerPageOptions"></shared-paginator>

}@else {
<div class="p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300"
  role="alert">
  <span class="font-medium">Warning alert!</span> There are no elements to show in the table.
</div>
}


